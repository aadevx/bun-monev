{% extends "base.html" %}

{% block title %} Pemenang Tender {% endblock %}

{% block breadcrumb %}
<h3 class="page-title text-truncate text-dark font-weight-medium mb-1">Pemenang Tender</h3>
    <div class="d-flex align-items-center">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb m-0 p-0">
                <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                <li class="breadcrumb-item">Pemenang</li>
            </ol>
        </nav>
    </div>
{% endblock %}

{% block content %}
<div class="row">
       <div class="card border-end">
           <div class="card-body">
                <div class="table-responsive">
            <table id="zero_config" class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th>kode</th>
                    <th>Nama Penyedia</th>
                    <th>NPWP</th>
                    <th>Paket</th>
                    <th>Nilai</th>
                </tr>
                </thead>
            </table>
            </div>
           </div>
       </div>
</div>
{% endblock %}

{% block js %}
{% include "js-datatable.html" %}
<script>
    new DataTable('#zero_config', {
        ajax: '/pemenang/data?tahun={{ tahun }}',
        columns: [
            {data: 'kd_penyedia'},
            {data: 'nama_penyedia',  render: function(data,type,row){
                    return '<a href="/pemenang/' + row['kd_penyedia'] + '">'+data+'</a>'
                }
            },
            {data: 'npwp_penyedia'},
            {data: 'paket'},
            {data: 'total', render: function(data,type,row){
                    return data.toLocaleString('id-ID', { style: 'currency', currency: 'IDR' });
                }
            },
        ]
    });
</script>
{% endblock %}
